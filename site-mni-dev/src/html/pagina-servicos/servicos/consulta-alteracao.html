<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Consultar Alteração - TJSP</title>
  <link rel="stylesheet" href="../../../../recursos/css/style.css">
</head>
<body>
  <header>
<img src="../../../../recursos/img/brasao.png">   
    Tribunal de Justiça do Estado de São Paulo
  </header>
  <main>
    <h1>SERVIÇOS DISPONÍVEIS DO MNI 3.0.
			consultarAlteracao<p>
</h1>
    <p><strong>Descrição:</strong>
	<br>Tipo de elemento que encapsula os dados de consulta relativos à existência de modificações em um processo judicial. 
	Só é possível consultar a alteração se uma das partes do processo estiver associada a um procurador,
	se não, o sistema apresenta o erro “Processo não encontrado”.<br><p>
	
	<strong>Parâmetros (*campos opcionais*): </strong>
	<br><strong>token*:</strong> Chave de autenticação concedida pelo sistema após autenticação prévia, feita por usuário/senha ou 
	certificado digital. Visa tornar mais ágil o processo de autenticação, 
	tornando desnecessário realizar o custoso procedimento de credenciamento a cada chamada de operação.cnj.<br><p>
	
	<strong>Autenticação simples*</strong>
	<br><strong>usuario:</strong> Identificação do usuário 
		<br><strong>senha:</strong> Senha do usuário (hash do dia, data + senha) <p>
		
		<strong>Autenticação Certificada* </strong>
		<br><strong>Assinatura:</strong> Hash da assinatura, em base64. 
		<br><strong>dataAssinatura:</strong> Data e hora em que a assinatura se concretizou. 
		<br><strong>cadeiaCertificado:</strong> Cadeia de certificação, no formato PEM ou, se indicado, no formato indicado no atributo codificacaoCertificado. 
		<br><strong>algoritmo:</strong> A identificação do algoritmo de resumo matemático utilizado para criar a assinatura. Recomenda-se o tipo SHA-256.
		<br><strong>codificacaoCadeiaCertificado:</strong> Indica a codificação (PEM, DER etc.) de envio da cadeia de certificação. Por padrão, essa codificação deve ser a PEM, e, quando não indicada a informação, a implementação deve considerar que essa codificação foi utilizada. A implementação pode, mas não é obrigada a tolerar envio equivocado da informação,
		de forma que as implementações cliente não devem contar com esse tipo de tratamento. <p>
		
		<strong>pessoaVinculada*:</strong> (erro – não funciona) Informação não obrigatória destinada a identificar possível CPF ou CNPJ que esteja vinculado às credenciais da pessoa solicitadora da autenticação. Alguns exemplos de uso: 
		CNPJ do escritório ao qual o advogado esteja vinculado; CPF do procurador vinculado às credenciais institucionais da procuradoria. 
		<br><strong>numeroProcesso:</strong>  Número do processo judicial. <p>
		
		<strong>Outros parâmetros (erro – não funciona) </strong>
			<pre><code>&lt;tip:outroParametro nome="incluirHashCabecalho" valor="false"/&gt;</code></pre>
			<pre><code>&lt;tip:outroParametro nome="incluirHashMovimentacoes" valor="false"/&gt;</code></pre>
			<pre><code>&lt;tip:outroParametro nome="incluirHashDocumentos" valor="false"/&gt;</code></pre>

		<br>Parâmetros adicionais incluirHashCabecalho, incluirHashMovimentacoes e incluirHashDocumentos. Por padrão, os 3 hashes são incluídos. 
		Para que não seja incluído algum desses hashes, o parâmetro adicional correspondente deve ser definido como false. <p>
		
		


		<script>
	function copiarCodigo(id) {
  const codigo = document.getElementById(id).innerText;
  navigator.clipboard.writeText(codigo);
  alert("Código copiado!");
	}
	</script>

			<strong>Requisição</strong>
	
		<div class="code-box">
  <pre><code id="codigoXML">
&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" 
  xmlns:v300="http://www.cnj.jus.br/mni/v300/" 
  xmlns:tip="http://www.cnj.jus.br/mni/v300/tipos-servico-intercomunicacao" 
  xmlns:int="http://www.cnj.jus.br/mni/v300/intercomunicacao"&gt;
   &lt;soapenv:Header/&gt;
   &lt;soapenv:Body&gt;
     &lt;v300:requisicaoConsultarAlteracao&gt;
       &lt;tip:consultante&gt;
         &lt;int:autenticacaoSimples&gt;
            &lt;int:usuario&gt;USUARIO&lt;/int:usuario&gt;
            &lt;int:senha&gt;SENHA&lt;/int:senha&gt;
         &lt;/int:autenticacaoSimples&gt;
      &lt;/tip:consultante&gt;
      &lt;tip:numeroProcesso&gt;NUMERO DO PROCESSO&lt;/tip:numeroProcesso&gt;
     &lt;/v300:requisicaoConsultarAlteracao&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;
  </code></pre>
 <button class="btn-copiar" onclick="copiarCodigo('codigoXML')">
  <img src="../../../../recursos/img/copiar.jpg" alt="Copiar código">
</button>
	</div>

<p>
		<strong>Resposta</strong>
		
<div class="code-box">
  <pre><code id="codigoSOAP">
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" 
  xmlns:ns1="http://www.cnj.jus.br/mni/v300/intercomunicacao" 
  xmlns:ns2="http://www.cnj.jus.br/mni/v300/tipos-servico-intercomunicacao" 
  xmlns:ns3="http://www.cnj.jus.br/mni/v300/" 
  xmlns:xmime="http://www.w3.org/2005/05/xmlmime"&gt;
     &lt;SOAP-ENV:Body&gt;
        &lt;ns3:respostaConsultarAlteracao&gt;
           &lt;ns2:recibo&gt;
             &lt;ns1:sucesso&gt;true&lt;/ns1:sucesso&gt;
             &lt;ns1:mensagens&gt;
               &lt;ns1:descritivo&gt;Consulta realizada com sucesso&lt;/ns1:descritivo&gt;
               &lt;ns1:codigo&gt;0&lt;/ns1:codigo&gt;
               &lt;ns1:codigoUnico/&gt;
               &lt;ns1:tipo&gt;INFORMACAO&lt;/ns1:tipo&gt;
            &lt;/ns1:mensagens&gt;
          &lt;/ns2:recibo&gt;
         &lt;ns2:hashCabecalho&gt;
            &lt;ns1:hash&gt;02ae320f214ecfef49c6b0e4e9a34c54eef6d310&lt;/ns1:hash&gt;
           &lt;ns1:algoritmo&gt;SHA-1&lt;/ns1:algoritmo&gt;
         &lt;/ns2:hashCabecalho&gt;
         &lt;ns2:hashMovimentacoes&gt;
           &lt;ns1:hash&gt;fe5dbbcea5ce7e2988b8c69bcfdfde8904aabc1f&lt;/ns1:hash&gt;
           &lt;ns1:algoritmo&gt;SHA-1&lt;/ns1:algoritmo&gt;
        &lt;/ns2:hashMovimentacoes&gt;
        &lt;ns2:hashDocumentos&gt;
           &lt;ns1:hash&gt;3f0e9c5696c954c0990ce072c43091173513b4b2&lt;/ns1:hash&gt;
           &lt;ns1:algoritmo&gt;SHA-1&lt;/ns1:algoritmo&gt;
         &lt;/ns2:hashDocumentos&gt;
        &lt;/ns3:respostaConsultarAlteracao&gt;
     &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
  </code></pre>
  <button class="btn-copiar" onclick="copiarCodigo('codigoXML')">
  <img src="../../../../recursos/img/copiar.jpg" alt="Copiar código">
</button>
</div>

  </main>
  <footer>© 2025 Tribunal de Justiça do Estado de São Paulo</footer>
</body>
</html>
